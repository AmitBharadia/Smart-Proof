package com.kit.verifier.zeroknowledge.HyperLedger;

import org.web3j.abi.TypeReference;
import org.web3j.abi.datatypes.Bool;
import org.web3j.abi.datatypes.Function;
import org.web3j.abi.datatypes.Type;
import org.web3j.crypto.Credentials;
import org.web3j.protocol.Web3j;
import org.web3j.protocol.core.RemoteCall;
import org.web3j.tx.TransactionManager;

import java.math.BigInteger;
import java.util.Arrays;

public class RangeProofValidator {
    private static final String BINARY = "6060604052341561000f57600080fd5b611f308061001e6000396000f300606060405260043610610041576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063a61d7e3e14610046575b600080fd5b341561005157600080fd5b6100f6600480803590602001909190803590602001909190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610110565b604051808215151515815260200191505060405180910390f35b600061011a611eb4565b610122611eb4565b61012a611ec8565b600080600080600061013a611edc565b60076040518059106101495750595b90808252806020026020018201604052801561017f57816020015b61016c611ef0565b8152602001906001900390816101645790505b509850601f6040518059106101915750595b9080825280602002602001820160405280156101c757816020015b6101b4611ef0565b8152602001906001900390816101ac5790505b5097508b9650600093505b88518410156102b55786848151811015156101e957fe5b906020019060200201519250868481518110151561020357fe5b9060200190602002015160018a5103851461023857876001860181518110151561022957fe5b9060200190602002015161023b565b8c515b0391508160405180591061024c5750595b9080825280601f01601f191660200182016040525090506020810195508260208d010194506108008210151561028157600080fd5b61028c8686846103bf565b80898581518110151561029b57fe5b9060200190602002018190525083806001019450506101d2565b8a9650600093505b87518410156103a05786848151811015156102d457fe5b90602001906020020151925086848151811015156102ee57fe5b906020019060200201516001895103851461032357876001860181518110151561031457fe5b90602001906020020151610326565b8b515b039150816040518059106103375750595b9080825280601f01601f191660200182016040525090506020810195508260208c010194506120008210151561036c57600080fd5b6103778686846103bf565b80888581518110151561038657fe5b9060200190602002018190525083806001019450506102bd565b6103ac8e8e8b8b6103ea565b9950505050505050505050949350505050565b5b6020811015156103e557815183526020830192506020820191506020810390506103c0565b505050565b60006103f4611eb4565b6000600b6040518059106104055750595b90808252806020026020018201604052801561043b57816020015b610428611ef0565b8152602001906001900390816104205790505b509150610449878703611352565b60016028608001016002020190506104608761139a565b82600081518110151561046f57fe5b906020019060200201819052506104858661139a565b82600181518110151561049457fe5b906020019060200201819052506104ee8560008151811015156104b357fe5b906020019060200201516104d06104ca600161139a565b846113d3565b8760018151811015156104df57fe5b906020019060200201516114bb565b8560008151811015156104fd57fe5b9060200190602002018190525061055785600481518110151561051c57fe5b90602001906020020151610539610533600161139a565b846113d3565b87600181518110151561054857fe5b906020019060200201516114bb565b85600481518110151561056657fe5b9060200190602002018190525061059582600081518110151561058557fe5b90602001906020020151826113d3565b8260008151811015156105a457fe5b906020019060200201819052506105d38260018151811015156105c357fe5b90602001906020020151826113d3565b8260018151811015156105e257fe5b906020019060200201819052506106066105fd88880361139a565b600283016113d3565b82600481518110151561061557fe5b9060200190602002018190525061065c84601e81518110151561063457fe5b9060200190602002015183600481518110151561064d57fe5b906020019060200201516115c5565b151561066b5760009250611348565b6106f885600081518110151561067d57fe5b906020019060200201516106da87600581518110151561069957fe5b906020019060200201518560008151811015156106b257fe5b906020019060200201518960018151811015156106cb57fe5b906020019060200201516114bb565b8760018151811015156106e957fe5b90602001906020020151611620565b82600281518110151561070757fe5b906020019060200201819052506107a161076a86600281518110151561072957fe5b9060200190602002015184600181518110151561074257fe5b9060200190602002015188600181518110151561075b57fe5b906020019060200201516114bb565b86600481518110151561077957fe5b9060200190602002015187600181518110151561079257fe5b90602001906020020151611620565b8260038151811015156107b057fe5b906020019060200201819052506108108560008151811015156107cf57fe5b906020019060200201518660048151811015156107e857fe5b9060200190602002015187600181518110151561080157fe5b90602001906020020151611644565b151561081f5760009250611348565b61087285600281518110151561083157fe5b9060200190602002015186600581518110151561084a57fe5b9060200190602002015187600181518110151561086357fe5b90602001906020020151611644565b15156108815760009250611348565b6108d485600381518110151561089357fe5b906020019060200201518660068151811015156108ac57fe5b906020019060200201518760018151811015156108c557fe5b90602001906020020151611644565b15156108e35760009250611348565b6109368460008151811015156108f557fe5b9060200190602002015185601281518110151561090e57fe5b9060200190602002015187600181518110151561092757fe5b90602001906020020151611644565b15156109455760009250611348565b61099884600181518110151561095757fe5b9060200190602002015185601381518110151561097057fe5b9060200190602002015187600181518110151561098957fe5b90602001906020020151611644565b15156109a75760009250611348565b6109fa8460028151811015156109b957fe5b906020019060200201518560148151811015156109d257fe5b906020019060200201518760018151811015156109eb57fe5b90602001906020020151611644565b1515610a095760009250611348565b610a5c846007815181101515610a1b57fe5b90602001906020020151856015815181101515610a3457fe5b90602001906020020151876001815181101515610a4d57fe5b90602001906020020151611644565b1515610a6b5760009250611348565b610abe826002815181101515610a7d57fe5b90602001906020020151856012815181101515610a9657fe5b90602001906020020151876001815181101515610aaf57fe5b90602001906020020151611620565b826002815181101515610acd57fe5b90602001906020020181905250610b2d826003815181101515610aec57fe5b90602001906020020151856013815181101515610b0557fe5b90602001906020020151876001815181101515610b1e57fe5b90602001906020020151611620565b826003815181101515610b3c57fe5b90602001906020020181905250610b9c826002815181101515610b5b57fe5b90602001906020020151856016815181101515610b7457fe5b90602001906020020151876001815181101515610b8d57fe5b90602001906020020151611644565b1515610bab5760009250611348565b610bfe826003815181101515610bbd57fe5b90602001906020020151856017815181101515610bd657fe5b90602001906020020151876001815181101515610bef57fe5b90602001906020020151611644565b1515610c0d5760009250611348565b6000610c3a856018815181101515610c2157fe5b90602001906020020151610c35600161139a565b61166e565b14610c5d57846003815181101515610c4e57fe5b90602001906020020151610c77565b846006815181101515610c6c57fe5b906020019060200201515b826005815181101515610c8657fe5b906020019060200201819052506000610cc0856019815181101515610ca757fe5b90602001906020020151610cbb600161139a565b61166e565b14610ce357846003815181101515610cd457fe5b90602001906020020151610cfd565b846006815181101515610cf257fe5b906020019060200201515b826006815181101515610d0c57fe5b906020019060200201819052506000610d4685601a815181101515610d2d57fe5b90602001906020020151610d41600161139a565b61166e565b14610d6957846003815181101515610d5a57fe5b90602001906020020151610d83565b846006815181101515610d7857fe5b906020019060200201515b826007815181101515610d9257fe5b906020019060200201819052506000610dcc85601b815181101515610db357fe5b90602001906020020151610dc7600161139a565b61166e565b14610def57846003815181101515610de057fe5b90602001906020020151610e09565b846006815181101515610dfe57fe5b906020019060200201515b826008815181101515610e1857fe5b906020019060200201819052506000610e5285601c815181101515610e3957fe5b90602001906020020151610e4d600161139a565b61166e565b14610e7557846003815181101515610e6657fe5b90602001906020020151610e8f565b846006815181101515610e8457fe5b906020019060200201515b826009815181101515610e9e57fe5b906020019060200201819052506000610ed885601d815181101515610ebf57fe5b90602001906020020151610ed3600161139a565b61166e565b14610efb57846003815181101515610eec57fe5b90602001906020020151610f15565b846006815181101515610f0a57fe5b906020019060200201515b82600a815181101515610f2457fe5b9060200190602002018190525061104c856001815181101515610f4357fe5b90602001906020020151866002815181101515610f5c57fe5b90602001906020020151846005815181101515610f7557fe5b90602001906020020151856006815181101515610f8e57fe5b90602001906020020151886002815181101515610fa757fe5b90602001906020020151896003815181101515610fc057fe5b906020019060200201518a6004815181101515610fd957fe5b906020019060200201518b6005815181101515610ff257fe5b906020019060200201518c600681518110151561100b57fe5b906020019060200201518d601281518110151561102457fe5b906020019060200201518e601481518110151561103d57fe5b90602001906020020151611688565b151561105b5760009250611348565b61117685600181518110151561106d57fe5b9060200190602002015186600281518110151561108657fe5b9060200190602002015184600781518110151561109f57fe5b906020019060200201518560088151811015156110b857fe5b906020019060200201518860078151811015156110d157fe5b906020019060200201518960088151811015156110ea57fe5b906020019060200201518a600981518110151561110357fe5b906020019060200201518b600a81518110151561111c57fe5b906020019060200201518c600b81518110151561113557fe5b906020019060200201518d601381518110151561114e57fe5b906020019060200201518e601581518110151561116757fe5b90602001906020020151611688565b15156111855760009250611348565b61125584601e81518110151561119757fe5b906020019060200201518660018151811015156111b057fe5b906020019060200201518760028151811015156111c957fe5b906020019060200201518560098151811015156111e257fe5b906020019060200201518860168151811015156111fb57fe5b9060200190602002015189600c81518110151561121457fe5b906020019060200201518a600d81518110151561122d57fe5b906020019060200201518b600e81518110151561124657fe5b906020019060200201516116ae565b15156112645760009250611348565b61133484601e81518110151561127657fe5b9060200190602002015186600181518110151561128f57fe5b906020019060200201518760028151811015156112a857fe5b9060200190602002015185600a8151811015156112c157fe5b906020019060200201518860178151811015156112da57fe5b9060200190602002015189600f8151811015156112f357fe5b906020019060200201518a601081518110151561130c57fe5b906020019060200201518b601181518110151561132557fe5b906020019060200201516116ae565b15156113435760009250611348565b600192505b5050949350505050565b600080600060019150600090505b61010081101561138d578184101561137a57809250611393565b6002820291508080600101915050611360565b61010092505b5050919050565b6113a2611edc565b60206040518059106113b15750595b9080825280601f01601f19166020018201604052509050816020820152919050565b6113db611edc565b60008060008060006101008060088a51028960ff01018115156113fa57fe5b050294506000851315156114335760006040518059106114175750595b9080825280601f01601f191660200182016040525095506114b0565b60088581151561143f57fe5b0460405180591061144d5750595b9080825280601f01601f191660200182016040525095508551885110611474578551611477565b87515b93506020880192506020860191506114908284866103bf565b86600889510286030390506114ad6114a887836117c1565b6118a8565b95505b505050505092915050565b6114c3611edc565b60008060006114d0611edc565b60006114da611edc565b895195508851945087519350836040518059106114f45750595b9080825280601f01601f1916602001820160405250925083858760600101019150816040518059106115235750595b9080825280601f01601f191660200182016040525090506020810186815285602082015284604082015286606082018860208e01600060046101c2f1868860600183018860208e01600060046101c2f190508586850383018760208d01600060046101c2f1905085602086018584600060056105465a03f190505050838587606001010181511415156115b557600080fd5b8296505050505050509392505050565b60006115cf611edc565b6115e2846115dd600161139a565b611920565b905060006115f86115f28661193f565b8561166e565b131580156116175750600061161561160f8361193f565b8561166e565b135b91505092915050565b611628611edc565b61163b611635858561197b565b83611a53565b90509392505050565b600080611664611655868686611620565b61165f600161139a565b61166e565b1490509392505050565b600061167c83836001611a77565b90508091505092915050565b600061169d8c8c8a8d8d87898e8e8e8e611c82565b90509b9a5050505050505050505050565b60006116b8611edc565b6116c0611edc565b6116dd866116d86116d1600161139a565b60806113d3565b611a53565b91506116f66116f18b8b8b89898d89611da5565b6118a8565b9050600061170d86611708858f61197b565b61166e565b121580156117325750600061172f8661172a8e60286080016113d3565b61166e565b13155b80156117b1575060006117af6117a9836040518082805190602001908083835b6020831015156117775780518252602082019150602081019050602083039250611752565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020611ded565b8861166e565b145b9250505098975050505050505050565b6117c9611edc565b60008060008060008060008814156117e35788965061189c565b60ff88111515156117f357600080fd5b600060208a5181151561180257fe5b0614151561180f57600080fd5b885160405180591061181e5750595b9080825280601f01601f1916602001820160405250965060018860019060020a02039550876101000360020a94508760020a9350600092505b885183101561189b5783602084018a01518719160491506000831415156118855784838a0151871602820191505b6020830187019050818152602083019250611857565b5b50505050505092915050565b6118b0611edc565b600080600080602086518115156118c357fe5b061415156118d057600080fd5b60019250600090505b845181101561190d576020810185015115925082156118fd57602082019150611902565b61190d565b6020810190506118d9565b8185019350818551038452505050919050565b611928611edc565b61193483836000611a77565b508091505092915050565b611947611edc565b61194f611edc565b61195d8360088551026113d3565b90506119738361196d600261139a565b836114bb565b915050919050565b611983611edc565b61198b611edc565b611993611edc565b61199b611edc565b6119a3611edc565b6119ab611edc565b6119b3611edc565b6119bb611edc565b6119c5600261139a565b96506119d18a8a611920565b95506119df8a8a6001611a77565b50809550506119f28660088851026113d3565b93506119ff8688866114bb565b9250611a0c8588866114bb565b9150611a188383611e26565b9050611a44817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe6113d3565b97505050505050505092915050565b611a5b611edc565b611a6f83611a69600161139a565b846114bb565b905092915050565b611a7f611edc565b600080600080600080600080600080611a96611edc565b8d518f5111611aa6578d51611aa9565b8e515b604051805910611ab65750595b9080825280601f01601f19166020018201604052509b5060208f01995060208e01985060208c01975060208f51038a01965060208e5103890195506000945060208c5189010393505b8784101515611bbb5760009250600091508987101515611b1e57865192505b8886101515611b2c57855191505b8c15611b665784828403038452828284031180611b4e57508183038583850303115b611b59576000611b5c565b60015b60ff169450611b96565b84828401018452828284011080611b8257508183018583850101105b611b8d576000611b90565b60015b60ff1694505b8183141515611ba45760019a505b602087039650602086039550602084039350611aff565b6001851415611c69578c15611c1257611be5611bd68d611e7a565b611be0600161139a565b611920565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8090509b509b50611c70565b60208c5101604051805910611c245750595b9080825280601f01601f1916602001820160405250905060208c019650604081019550611c5386888e516103bf565b600160208201528060018090509b509b50611c70565b8b8b9b509b505b50505050505050505050935093915050565b6000611c8c611edc565b611c94611edc565b611cab611ca68f8f8e8a8a8f8e611da5565b6118a8565b9150611cc4611cbf8f8e8d8a898e8e611da5565b6118a8565b90506000611d91611d8b84846040518083805190602001908083835b602083101515611d055780518252602082019150602081019050602083039250611ce0565b6001836020036101000a03801982511681845116808217855250505050505090500182805190602001908083835b602083101515611d585780518252602082019150602081019050602083039250611d33565b6001836020036101000a038019825116818451168082178552505050505050905001925050506040518091039020611ded565b8961166e565b14925050509b9a5050505050505050505050565b611dad611edc565b611de0611dcf611dbe89888c6114bb565b611dc989888d6114bb565b8b611620565b611dda85858c6114bb565b8a611620565b9050979650505050505050565b611df5611edc565b6020604051805910611e045750595b9080825280601f01601f19166020018201604052509050816020820152919050565b611e2e611edc565b6000611e3c84846001611a77565b80925081935050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114151515611e7357600080fd5b5092915050565b611e82611edc565b6000806020840191508351820190505b80821015611eaa578151198252602082019150611e92565b8392505050919050565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b6020604051908101604052806000815250905600a165627a7a723058208478802b978518554d804c457183dc07ffb685ce1e4fe52366944e14be7f93e00029";

    protected RangeProofValidator(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {
        super(BINARY, contractAddress, web3j, credentials, gasPrice, gasLimit);
    }

    protected RangeProofValidator(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {
        super(BINARY, contractAddress, web3j, transactionManager, gasPrice, gasLimit);
    }

    public RemoteCall<Boolean> validate(BigInteger lower, BigInteger upper, byte[] commitment, byte[] proof) {
        Function function = new Function("validate",
                Arrays.<Type>asList(new org.web3j.abi.datatypes.generated.Uint256(lower),
                        new org.web3j.abi.datatypes.generated.Uint256(upper),
                        new org.web3j.abi.datatypes.DynamicBytes(commitment),
                        new org.web3j.abi.datatypes.DynamicBytes(proof)),
                Arrays.<TypeReference<?>>asList(new TypeReference<Bool>() {}));
        return executeRemoteCallSingleValueReturn(function, Boolean.class);
    }

    public static RemoteCall<RangeProofValidator> deploy(Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {
        return deployRemoteCall(RangeProofValidator.class, web3j, credentials, gasPrice, gasLimit, BINARY, "");
    }

    public static RemoteCall<RangeProofValidator> deploy(Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {
        return deployRemoteCall(RangeProofValidator.class, web3j, transactionManager, gasPrice, gasLimit, BINARY, "");
    }

    public static RangeProofValidator load(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {
        return new RangeProofValidator(contractAddress, web3j, credentials, gasPrice, gasLimit);
    }

    public static RangeProofValidator load(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {
        return new RangeProofValidator(contractAddress, web3j, transactionManager, gasPrice, gasLimit);
    }

}
